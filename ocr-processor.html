<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Document Processing - OOES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .upload-area {
            border: 3px dashed #cbd5e1;
            transition: all 0.3s ease;
        }
        .upload-area.dragover {
            border-color: #667eea;
            background-color: #f0f4ff;
        }
        .processing-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .text-highlight {
            background-color: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }
        .confidence-high { color: #10b981; }
        .confidence-medium { color: #f59e0b; }
        .confidence-low { color: #ef4444; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <button onclick="history.back()" class="text-white hover:text-blue-200">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>
                    <i class="fas fa-file-image text-3xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold">OCR Document Processing</h1>
                        <p class="text-sm opacity-90">Intelligent Document Scanning & Extraction</p>
                    </div>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="flex items-center space-x-2">
                        <span class="w-3 h-3 bg-green-400 rounded-full"></span>
                        <span class="text-sm">Scanner Active</span>
                    </div>
                    <button class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition">
                        <i class="fas fa-cog mr-2"></i>Settings
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Upload Section -->
        <section class="mb-8">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-upload mr-3 text-orange-600"></i>
                    Document Upload
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Upload Area -->
                    <div>
                        <div id="uploadArea" class="upload-area rounded-lg p-8 text-center cursor-pointer hover:bg-gray-50">
                            <i class="fas fa-cloud-upload-alt text-6xl text-gray-400 mb-4"></i>
                            <p class="text-lg font-semibold mb-2">Drop documents here</p>
                            <p class="text-gray-600 mb-4">or click to browse files</p>
                            <input type="file" id="fileInput" class="hidden" multiple accept="image/*,.pdf,.doc,.docx,.txt">
                            <button onclick="document.getElementById('fileInput').click()" class="bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition">
                                <i class="fas fa-folder-open mr-2"></i>Select Files
                            </button>
                        </div>
                        
                        <!-- File List -->
                        <div id="fileList" class="mt-6 space-y-2">
                            <h3 class="font-semibold mb-3">Queued Documents:</h3>
                            <div id="queuedFiles" class="space-y-2">
                                <!-- Files will be added here dynamically -->
                            </div>
                        </div>
                    </div>

                    <!-- OCR Settings -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">OCR Settings</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Document Type</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                    <option>Auto-detect</option>
                                    <option>Invoice</option>
                                    <option>Receipt</option>
                                    <option>Contract</option>
                                    <option>ID Document</option>
                                    <option>Form</option>
                                    <option>Handwritten</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">Language</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                    <option>English</option>
                                    <option>Spanish</option>
                                    <option>French</option>
                                    <option>German</option>
                                    <option>Chinese</option>
                                    <option>Japanese</option>
                                    <option>Arabic</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">Output Format</label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>Plain Text</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>Formatted Text</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>JSON Data</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" class="mr-2">
                                        <span>Searchable PDF</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">Advanced Options</label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>Detect Tables</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>Recognize Handwriting</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" class="mr-2">
                                        <span>Extract Signatures</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-2">
                                        <span>Auto-enhance Quality</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="startProcessing()" class="w-full mt-6 bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold">
                            <i class="fas fa-play mr-2"></i>Start OCR Processing
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Processing Results -->
        <section id="resultsSection" class="hidden">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-search mr-3 text-green-600"></i>
                    Processing Results
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Original Document -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Original Document</h3>
                        <div class="border-2 border-gray-200 rounded-lg p-4 bg-gray-50">
                            <img id="originalImage" src="" alt="Original document" class="w-full rounded">
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4 text-sm">
                            <div class="bg-blue-50 p-3 rounded">
                                <p class="font-semibold">File Size</p>
                                <p id="fileSize">2.4 MB</p>
                            </div>
                            <div class="bg-green-50 p-3 rounded">
                                <p class="font-semibold">Processing Time</p>
                                <p id="processingTime">3.2 seconds</p>
                            </div>
                        </div>
                    </div>

                    <!-- Extracted Text -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Extracted Text</h3>
                        <div class="border-2 border-gray-200 rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto">
                            <div id="extractedText" class="text-sm leading-relaxed">
                                <!-- Extracted text will appear here -->
                            </div>
                        </div>
                        <div class="mt-4 flex space-x-2">
                            <button onclick="copyText()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                                <i class="fas fa-copy mr-2"></i>Copy Text
                            </button>
                            <button onclick="downloadText()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">
                                <i class="fas fa-download mr-2"></i>Download
                            </button>
                            <button onclick="shareText()" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition">
                                <i class="fas fa-share mr-2"></i>Share
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Confidence Scores -->
                <div class="mt-8">
                    <h3 class="text-lg font-semibold mb-4">Confidence Analysis</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-green-50 p-4 rounded-lg">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">High Confidence</span>
                                <span class="text-2xl font-bold confidence-high">87%</span>
                            </div>
                            <div class="mt-2 text-sm text-gray-600">
                                <p>Words: 1,247</p>
                                <p>Characters: 6,832</p>
                            </div>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">Medium Confidence</span>
                                <span class="text-2xl font-bold confidence-medium">11%</span>
                            </div>
                            <div class="mt-2 text-sm text-gray-600">
                                <p>Words: 156</p>
                                <p>Characters: 892</p>
                            </div>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">Low Confidence</span>
                                <span class="text-2xl font-bold confidence-low">2%</span>
                            </div>
                            <div class="mt-2 text-sm text-gray-600">
                                <p>Words: 28</p>
                                <p>Characters: 156</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detected Elements -->
                <div class="mt-8">
                    <h3 class="text-lg font-semibold mb-4">Detected Elements</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg text-center">
                            <i class="fas fa-font text-3xl text-blue-600 mb-2"></i>
                            <p class="font-semibold">Text Blocks</p>
                            <p class="text-2xl font-bold">24</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg text-center">
                            <i class="fas fa-table text-3xl text-green-600 mb-2"></i>
                            <p class="font-semibold">Tables</p>
                            <p class="text-2xl font-bold">3</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg text-center">
                            <i class="fas fa-barcode text-3xl text-purple-600 mb-2"></i>
                            <p class="font-semibold">Barcodes</p>
                            <p class="text-2xl font-bold">2</p>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg text-center">
                            <i class="fas fa-signature text-3xl text-orange-600 mb-2"></i>
                            <p class="font-semibold">Signatures</p>
                            <p class="text-2xl font-bold">1</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Scans -->
        <section class="mt-8">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-history mr-3 text-blue-600"></i>
                    Recent Scans
                </h2>
                
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b-2 border-gray-200">
                                <th class="text-left py-3 px-4">Document</th>
                                <th class="text-left py-3 px-4">Type</th>
                                <th class="text-left py-3 px-4">Language</th>
                                <th class="text-left py-3 px-4">Confidence</th>
                                <th class="text-left py-3 px-4">Processed</th>
                                <th class="text-left py-3 px-4">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="recentScans">
                            <tr class="border-b hover:bg-gray-50">
                                <td class="py-3 px-4">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-invoice text-blue-600 mr-2"></i>
                                        Invoice_2024_001.pdf
                                    </div>
                                </td>
                                <td class="py-3 px-4">Invoice</td>
                                <td class="py-3 px-4">English</td>
                                <td class="py-3 px-4">
                                    <span class="confidence-high font-semibold">94%</span>
                                </td>
                                <td class="py-3 px-4">2 hours ago</td>
                                <td class="py-3 px-4">
                                    <button class="text-blue-600 hover:text-blue-800 mr-2">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="py-3 px-4">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-image text-green-600 mr-2"></i>
                                        Receipt_Store.jpg
                                    </div>
                                </td>
                                <td class="py-3 px-4">Receipt</td>
                                <td class="py-3 px-4">English</td>
                                <td class="py-3 px-4">
                                    <span class="confidence-high font-semibold">89%</span>
                                </td>
                                <td class="py-3 px-4">5 hours ago</td>
                                <td class="py-3 px-4">
                                    <button class="text-blue-600 hover:text-blue-800 mr-2">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="py-3 px-4">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-contract text-purple-600 mr-2"></i>
                                        Contract_Agreement.pdf
                                    </div>
                                </td>
                                <td class="py-3 px-4">Contract</td>
                                <td class="py-3 px-4">English</td>
                                <td class="py-3 px-4">
                                    <span class="confidence-medium font-semibold">76%</span>
                                </td>
                                <td class="py-3 px-4">1 day ago</td>
                                <td class="py-3 px-4">
                                    <button class="text-blue-600 hover:text-blue-800 mr-2">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <script>
        // File upload handling
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const fileList = document.getElementById('queuedFiles');
        let uploadedFiles = [];

        // Drag and drop events
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });

        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            for (let file of files) {
                if (file.type.startsWith('image/') || file.type === 'application/pdf' || 
                    file.name.endsWith('.doc') || file.name.endsWith('.docx') || file.name.endsWith('.txt')) {
                    uploadedFiles.push(file);
                    addFileToList(file);
                } else {
                    alert(`Unsupported file type: ${file.name}`);
                }
            }
        }

        function addFileToList(file) {
            const fileItem = document.createElement('div');
            fileItem.className = 'flex items-center justify-between p-3 bg-gray-50 rounded-lg';
            fileItem.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-file text-orange-600 mr-3"></i>
                    <div>
                        <p class="font-semibold text-sm">${file.name}</p>
                        <p class="text-xs text-gray-600">${(file.size / 1024 / 1024).toFixed(2)} MB</p>
                    </div>
                </div>
                <button onclick="removeFile(this, '${file.name}')" class="text-red-600 hover:text-red-800">
                    <i class="fas fa-times"></i>
                </button>
            `;
            fileList.appendChild(fileItem);
        }

        function removeFile(button, fileName) {
            uploadedFiles = uploadedFiles.filter(f => f.name !== fileName);
            button.parentElement.remove();
        }

        function startProcessing() {
            if (uploadedFiles.length === 0) {
                alert('Please upload at least one document');
                return;
            }

            // Show processing animation
            const resultsSection = document.getElementById('resultsSection');
            resultsSection.classList.remove('hidden');
            
            // Simulate OCR processing
            setTimeout(() => {
                showResults();
            }, 2000);
        }

        function showResults() {
            // Simulate extracted text
            const sampleText = `
                <p class="mb-4"><strong>INVOICE</strong></p>
                <p class="mb-2"><strong>Invoice Number:</strong> INV-2024-001</p>
                <p class="mb-2"><strong>Date:</strong> February 24, 2024</p>
                <p class="mb-2"><strong>Due Date:</strong> March 24, 2024</p>
                
                <p class="mb-4"><strong>BILL TO:</strong></p>
                <p class="mb-4">ABC Corporation<br>
                123 Business Street<br>
                New York, NY 10001</p>
                
                <p class="mb-4"><strong>ITEMS:</strong></p>
                <table class="w-full border mb-4">
                    <tr>
                        <td class="border p-2">Consulting Services</td>
                        <td class="border p-2">40 hours</td>
                        <td class="border p-2">$150.00</td>
                        <td class="border p-2">$6,000.00</td>
                    </tr>
                    <tr>
                        <td class="border p-2">Software License</td>
                        <td class="border p-2">1 year</td>
                        <td class="border p-2">$1,200.00</td>
                        <td class="border p-2">$1,200.00</td>
                    </tr>
                </table>
                
                <p class="text-right font-bold"><strong>Total: $7,200.00</strong></p>
            `;
            
            document.getElementById('extractedText').innerHTML = sampleText;
            document.getElementById('originalImage').src = 'https://via.placeholder.com/600x400?text=Sample+Document';
            
            // Scroll to results
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function copyText() {
            const text = document.getElementById('extractedText').innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert('Text copied to clipboard!');
            });
        }

        function downloadText() {
            const text = document.getElementById('extractedText').innerText;
            const blob = new Blob([text], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'extracted-text.txt';
            a.click();
        }

        function shareText() {
            const text = document.getElementById('extractedText').innerText;
            if (navigator.share) {
                navigator.share({
                    title: 'OCR Extracted Text',
                    text: text
                });
            } else {
                alert('Sharing not supported on this device');
            }
        }
    </script>
</body>
</html>
