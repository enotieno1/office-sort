<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Office Calendar System - OOES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .calendar-day { transition: all 0.3s ease; cursor: pointer; }
        .calendar-day:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .calendar-day.today { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .calendar-day.has-event { border-left: 4px solid #10b981; }
        .calendar-day.selected { border: 2px solid #667eea; }
        .event-item { transition: all 0.3s ease; cursor: pointer; }
        .event-item:hover { transform: translateX(5px); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(5px); }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .view-btn { transition: all 0.3s ease; }
        .view-btn.active { background: #667eea; color: white; }
        .category-badge { transition: all 0.2s ease; }
        .category-badge:hover { transform: scale(1.1); }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <i class="fas fa-calendar-alt text-3xl mr-4"></i>
                    <div>
                        <h1 class="text-2xl font-bold">Office Calendar System</h1>
                        <p class="text-purple-100">Manage your schedule, events, and tasks</p>
                    </div>
                </div>
                <button onclick="goBack()" class="bg-white text-purple-600 px-4 py-2 rounded hover:bg-gray-100 transition font-semibold">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <!-- Calendar Controls -->
        <section class="mb-8">
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <div class="flex items-center gap-4">
                        <button onclick="previousMonth()" class="bg-gray-100 hover:bg-gray-200 p-2 rounded-lg transition">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800" id="currentMonth">November 2024</h2>
                        <button onclick="nextMonth()" class="bg-gray-100 hover:bg-gray-200 p-2 rounded-lg transition">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button onclick="goToToday()" class="bg-purple-100 hover:bg-purple-200 text-purple-700 px-4 py-2 rounded-lg transition font-semibold">
                            Today
                        </button>
                    </div>
                    
                    <div class="flex gap-2">
                        <button onclick="setView('month')" class="view-btn active px-4 py-2 rounded-lg font-semibold" id="monthView">
                            <i class="fas fa-calendar mr-2"></i>Month
                        </button>
                        <button onclick="setView('week')" class="view-btn px-4 py-2 rounded-lg font-semibold" id="weekView">
                            <i class="fas fa-calendar-week mr-2"></i>Week
                        </button>
                        <button onclick="setView('day')" class="view-btn px-4 py-2 rounded-lg font-semibold" id="dayView">
                            <i class="fas fa-calendar-day mr-2"></i>Day
                        </button>
                        <button onclick="openEventModal()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition font-semibold">
                            <i class="fas fa-plus mr-2"></i>New Event
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calendar Grid -->
        <section class="mb-8">
            <div class="bg-white rounded-lg shadow-md p-6">
                <!-- Week Days Header -->
                <div class="grid grid-cols-7 gap-2 mb-4">
                    <div class="text-center font-semibold text-gray-700 py-2">Sun</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Mon</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Tue</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Wed</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Thu</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Fri</div>
                    <div class="text-center font-semibold text-gray-700 py-2">Sat</div>
                </div>
                
                <!-- Calendar Days Grid -->
                <div class="grid grid-cols-7 gap-2" id="calendarGrid">
                    <!-- Calendar days will be generated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section class="mb-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Upcoming Events -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-gray-800">Upcoming Events</h3>
                            <select onchange="filterEvents(this.value)" class="px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="all">All Events</option>
                                <option value="meeting">Meetings</option>
                                <option value="task">Tasks</option>
                                <option value="deadline">Deadlines</option>
                                <option value="holiday">Holidays</option>
                            </select>
                        </div>
                        <div id="upcomingEvents" class="space-y-3">
                            <!-- Events will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Categories & Stats -->
                <div class="space-y-6">
                    <!-- Event Categories -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Event Categories</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="category-badge w-4 h-4 bg-blue-500 rounded-full mr-3"></span>
                                    <span class="text-sm font-medium">Meetings</span>
                                </div>
                                <span class="text-sm text-gray-600" id="meetingCount">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="category-badge w-4 h-4 bg-green-500 rounded-full mr-3"></span>
                                    <span class="text-sm font-medium">Tasks</span>
                                </div>
                                <span class="text-sm text-gray-600" id="taskCount">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="category-badge w-4 h-4 bg-red-500 rounded-full mr-3"></span>
                                    <span class="text-sm font-medium">Deadlines</span>
                                </div>
                                <span class="text-sm text-gray-600" id="deadlineCount">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="category-badge w-4 h-4 bg-purple-500 rounded-full mr-3"></span>
                                    <span class="text-sm font-medium">Holidays</span>
                                </div>
                                <span class="text-sm text-gray-600" id="holidayCount">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">This Month</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Total Events</span>
                                <span class="font-bold text-gray-800" id="totalEvents">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Completed</span>
                                <span class="font-bold text-green-600" id="completedEvents">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Pending</span>
                                <span class="font-bold text-orange-600" id="pendingEvents">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Event Modal -->
    <div id="eventModal" class="modal">
        <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden m-4">
            <div class="bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">Create New Event</h3>
                    <button onclick="closeEventModal()" class="text-white hover:text-gray-200">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-8 overflow-y-auto" style="max-height: calc(90vh - 180px);">
                <form id="eventForm" class="space-y-6" onsubmit="return validateForm(this)">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Event Title *</label>
                        <input type="text" id="eventTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="Enter event title" required>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Date *</label>
                            <input type="date" id="eventDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Time</label>
                            <input type="time" id="eventTime" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Category *</label>
                        <select id="eventCategory" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                            <option value="">Select category</option>
                            <option value="meeting">Meeting</option>
                            <option value="task">Task</option>
                            <option value="deadline">Deadline</option>
                            <option value="holiday">Holiday</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                        <input type="text" id="eventLocation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="Event location (optional)">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea id="eventDescription" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="Event description (optional)"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Attendees</label>
                        <input type="text" id="eventAttendees" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="Enter email addresses separated by commas">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Reminder</label>
                        <select id="eventReminder" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500">
                            <option value="none">No reminder</option>
                            <option value="15">15 minutes before</option>
                            <option value="30">30 minutes before</option>
                            <option value="60">1 hour before</option>
                            <option value="1440">1 day before</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-end space-x-4">
                        <button type="button" onclick="closeEventModal()" class="bg-gray-500 text-white px-6 py-3 rounded hover:bg-gray-600 transition font-semibold">
                            Cancel
                        </button>
                        <button type="button" onclick="saveEvent()" class="bg-purple-600 text-white px-6 py-3 rounded hover:bg-purple-700 transition font-semibold">
                            <i class="fas fa-save mr-2"></i>Save Event
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Calendar state
        let currentDate = new Date();
        let currentView = 'month';
        let selectedDate = null;
        let events = [];

        // Sample events data
        const sampleEvents = [
            {
                id: 1,
                title: 'Team Meeting',
                date: '2024-11-15',
                time: '10:00',
                category: 'meeting',
                location: 'Conference Room A',
                description: 'Weekly team sync meeting',
                attendees: ['john@company.com', 'sarah@company.com'],
                reminder: 15
            },
            {
                id: 2,
                title: 'Project Deadline',
                date: '2024-11-20',
                time: '17:00',
                category: 'deadline',
                location: 'Office',
                description: 'Q4 Project submission deadline',
                attendees: [],
                reminder: 1440
            },
            {
                id: 3,
                title: 'Client Presentation',
                date: '2024-11-25',
                time: '14:00',
                category: 'meeting',
                location: 'Client Office',
                description: 'Product demo for new client',
                attendees: ['client@company.com'],
                reminder: 60
            }
        ];

        // Initialize calendar
        function initCalendar() {
            events = [...sampleEvents];
            renderCalendar();
            updateEventStats();
            displayUpcomingEvents();
        }

        // Render calendar
        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            // Update month display
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                              'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
            
            // Clear calendar grid
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';
            
            // Add empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'p-4 border border-gray-100 rounded-lg';
                calendarGrid.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayEvents = events.filter(event => event.date === dateStr);
                const isToday = today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;
                
                dayElement.className = `calendar-day p-4 border border-gray-200 rounded-lg relative ${
                    isToday ? 'today text-white' : 'bg-white'
                } ${dayEvents.length > 0 ? 'has-event' : ''} ${selectedDate === dateStr ? 'selected' : ''}`;
                
                dayElement.innerHTML = `
                    <div class="font-semibold ${isToday ? 'text-white' : 'text-gray-800'}">${day}</div>
                    ${dayEvents.length > 0 ? `
                        <div class="mt-2">
                            <div class="text-xs ${isToday ? 'text-purple-100' : 'text-gray-600'}">${dayEvents.length} event${dayEvents.length > 1 ? 's' : ''}</div>
                        </div>
                    ` : ''}
                `;
                
                dayElement.onclick = () => selectDate(dateStr, dayEvents);
                calendarGrid.appendChild(dayElement);
            }
        }

        // Select date
        function selectDate(dateStr, dayEvents) {
            selectedDate = dateStr;
            renderCalendar();
            
            if (dayEvents.length > 0) {
                displayDayEvents(dateStr, dayEvents);
            } else {
                openEventModal(dateStr);
            }
        }

        // Display day events
        function displayDayEvents(dateStr, dayEvents) {
            const eventsHtml = dayEvents.map(event => `
                <div class="event-item bg-gray-50 p-4 rounded-lg mb-3" onclick="editEvent(${event.id})">
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-semibold text-gray-800">${event.title}</h4>
                            <p class="text-sm text-gray-600">${event.time || 'All day'}</p>
                            ${event.location ? `<p class="text-sm text-gray-500"><i class="fas fa-map-marker-alt mr-1"></i>${event.location}</p>` : ''}
                        </div>
                        <span class="px-2 py-1 text-xs rounded-full ${getCategoryColor(event.category)}">
                            ${event.category}
                        </span>
                    </div>
                </div>
            `).join('');
            
            showNotification(`Events for ${dateStr}`, 'info');
        }

        // Get category color
        function getCategoryColor(category) {
            const colors = {
                meeting: 'bg-blue-100 text-blue-800',
                task: 'bg-green-100 text-green-800',
                deadline: 'bg-red-100 text-red-800',
                holiday: 'bg-purple-100 text-purple-800'
            };
            return colors[category] || 'bg-gray-100 text-gray-800';
        }

        // Navigation functions
        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        }

        function goToToday() {
            currentDate = new Date();
            renderCalendar();
        }

        // View functions
        function setView(view) {
            currentView = view;
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`${view}View`).classList.add('active');
            showNotification(`${view.charAt(0).toUpperCase() + view.slice(1)} view activated`, 'info');
        }

        // Event modal functions
        function openEventModal(date = null) {
            document.getElementById('eventModal').classList.add('active');
            if (date) {
                document.getElementById('eventDate').value = date;
            }
        }

        function closeEventModal() {
            document.getElementById('eventModal').classList.remove('active');
            document.getElementById('eventForm').reset();
        }

        function saveEvent() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const category = document.getElementById('eventCategory').value;
            const location = document.getElementById('eventLocation').value;
            const description = document.getElementById('eventDescription').value;
            const attendees = document.getElementById('eventAttendees').value.split(',').map(email => email.trim()).filter(email => email);
            const reminder = document.getElementById('eventReminder').value;
            
            if (!title || !date || !category) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const newEvent = {
                id: events.length + 1,
                title,
                date,
                time,
                category,
                location,
                description,
                attendees,
                reminder: reminder === 'none' ? null : parseInt(reminder)
            };
            
            events.push(newEvent);
            closeEventModal();
            renderCalendar();
            updateEventStats();
            displayUpcomingEvents();
            showNotification('Event created successfully!', 'success');
        }

        // Display upcoming events
        function displayUpcomingEvents(filter = 'all') {
            const upcomingEvents = events
                .filter(event => new Date(event.date) >= new Date())
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .filter(event => filter === 'all' || event.category === filter)
                .slice(0, 10);
            
            const eventsHtml = upcomingEvents.map(event => `
                <div class="event-item bg-gray-50 p-4 rounded-lg" onclick="editEvent(${event.id})">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${event.title}</h4>
                            <p class="text-sm text-gray-600">${event.date} ${event.time || 'All day'}</p>
                            ${event.location ? `<p class="text-sm text-gray-500"><i class="fas fa-map-marker-alt mr-1"></i>${event.location}</p>` : ''}
                            ${event.description ? `<p class="text-sm text-gray-500 mt-2">${event.description}</p>` : ''}
                        </div>
                        <span class="px-2 py-1 text-xs rounded-full ${getCategoryColor(event.category)}">
                            ${event.category}
                        </span>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('upcomingEvents').innerHTML = eventsHtml || '<p class="text-gray-500 text-center py-8">No upcoming events</p>';
        }

        // Filter events
        function filterEvents(category) {
            displayUpcomingEvents(category);
        }

        // Update event statistics
        function updateEventStats() {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            const monthEvents = events.filter(event => {
                const eventDate = new Date(event.date);
                return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;
            });
            
            const categories = {
                meeting: monthEvents.filter(e => e.category === 'meeting').length,
                task: monthEvents.filter(e => e.category === 'task').length,
                deadline: monthEvents.filter(e => e.category === 'deadline').length,
                holiday: monthEvents.filter(e => e.category === 'holiday').length
            };
            
            document.getElementById('meetingCount').textContent = categories.meeting;
            document.getElementById('taskCount').textContent = categories.task;
            document.getElementById('deadlineCount').textContent = categories.deadline;
            document.getElementById('holidayCount').textContent = categories.holiday;
            document.getElementById('totalEvents').textContent = monthEvents.length;
            
            const completed = monthEvents.filter(e => new Date(e.date) < today).length;
            const pending = monthEvents.filter(e => new Date(e.date) >= today).length;
            
            document.getElementById('completedEvents').textContent = completed;
            document.getElementById('pendingEvents').textContent = pending;
        }

        // Edit event (placeholder)
        function editEvent(eventId) {
            const event = events.find(e => e.id === eventId);
            if (event) {
                showNotification(`Editing: ${event.title}`, 'info');
                // In a real application, this would open an edit modal
            }
        }

        // Notification function
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-6 py-4 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500'
            } text-white`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'} mr-3"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Go back to dashboard
        function goBack() {
            window.location.href = 'index.html';
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initCalendar();
        });
    
        function closeModal(element) {
            const modal = element ? element.closest('.modal, .fixed') : document.querySelector('.modal.active, .fixed.inset-0');
            if (modal) {
                modal.classList.remove('active');
                modal.style.display = 'none';
            }
        }
</script>
</body>
</html>
